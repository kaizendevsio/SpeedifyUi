@inherits LayoutComponentBase

<div class="flex min-h-screen bg-slate-900">
    <!-- SIDEBAR (Desktop) -->
    <aside class="hidden md:flex md:flex-col md:w-64 bg-slate-950 p-4 border-r border-slate-800 h-screen sticky top-0">
        <div class="flex items-center gap-3 mb-8">
            <div class="bg-blue-600 p-2 rounded-lg">
                <i class="fas fa-network-wired text-white text-2xl"></i>
            </div>
            <h1 class="text-2xl font-bold text-white">X Network</h1>
        </div>
        <nav class="flex flex-col gap-2">
            <NavLink href="/" Match="NavLinkMatch.All" 
                     class="flex items-center gap-3 p-3 rounded-lg transition-colors duration-200 text-gray-400 hover:bg-slate-800 hover:text-white" 
                     ActiveClass="text-white bg-slate-800">
                <i class="fas fa-tachometer-alt w-6 text-center text-lg"></i>
                <span class="font-medium">Dashboard</span>
            </NavLink>
            <NavLink href="/details"
                     class="flex items-center gap-3 p-3 rounded-lg transition-colors duration-200 text-gray-400 hover:bg-slate-800 hover:text-white"
                     ActiveClass="text-white bg-slate-800">
                <i class="fas fa-chart-line w-6 text-center text-lg"></i>
                <span class="font-medium">Details</span>
            </NavLink>
            <NavLink href="/server-statistics"
                     class="flex items-center gap-3 p-3 rounded-lg transition-colors duration-200 text-gray-400 hover:bg-slate-800 hover:text-white"
                     ActiveClass="text-white bg-slate-800">
                <i class="fas fa-server w-6 text-center text-lg"></i>
                <span class="font-medium">Server Statistics</span>
            </NavLink>
            <NavLink href="/settings"
                     class="flex items-center gap-3 p-3 rounded-lg transition-colors duration-200 text-gray-400 hover:bg-slate-800 hover:text-white"
                     ActiveClass="text-white bg-slate-800">
                <i class="fas fa-cog w-6 text-center text-lg"></i>
                <span class="font-medium">Settings</span>
            </NavLink>
            <NavLink href="/ai-chat" 
                     class="flex items-center gap-3 p-3 rounded-lg transition-colors duration-200 text-gray-400 hover:bg-slate-800 hover:text-white" 
                     ActiveClass="text-white bg-slate-800">
                <i class="fas fa-robot w-6 text-center text-lg"></i>
                <span class="font-medium">AI Assistant</span>
            </NavLink>
        </nav>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="w-full pb-24 md:pb-0">
        <!-- App Header (Mobile) -->
        <header class="md:hidden sticky top-0 bg-slate-900/80 backdrop-blur-sm border-b border-slate-800 p-4 z-40">
            <h1 class="text-xl font-bold text-center text-white">X Network</h1>
        </header>

        @Body
    </main>
</div>

<!-- BOTTOM NAVIGATION (Mobile) -->
<nav class="md:hidden fixed bottom-0 left-0 right-0 bg-slate-950 border-t border-slate-800 grid grid-cols-5 gap-1 p-1 z-50">
    <NavLink href="/" Match="NavLinkMatch.All" 
             class="flex flex-col items-center justify-center w-full p-2 rounded-lg text-gray-400" 
             ActiveClass="text-blue-500 bg-slate-800">
        <i class="fas fa-tachometer-alt text-xl mb-1"></i>
        <span class="text-xs font-medium">Dashboard</span>
    </NavLink>
    <NavLink href="/details"
             class="flex flex-col items-center justify-center w-full p-2 rounded-lg text-gray-400"
             ActiveClass="text-blue-500 bg-slate-800">
        <i class="fas fa-chart-line text-xl mb-1"></i>
        <span class="text-xs font-medium">Details</span>
    </NavLink>
    <NavLink href="/server-statistics"
             class="flex flex-col items-center justify-center w-full p-2 rounded-lg text-gray-400"
             ActiveClass="text-blue-500 bg-slate-800">
        <i class="fas fa-server text-xl mb-1"></i>
        <span class="text-xs font-medium">Server</span>
    </NavLink>
    <NavLink href="/settings"
             class="flex flex-col items-center justify-center w-full p-2 rounded-lg text-gray-400"
             ActiveClass="text-blue-500 bg-slate-800">
        <i class="fas fa-cog text-xl mb-1"></i>
        <span class="text-xs font-medium">Settings</span>
    </NavLink>
    <NavLink href="/ai-chat" 
             class="flex flex-col items-center justify-center w-full p-2 rounded-lg text-gray-400" 
             ActiveClass="text-blue-500 bg-slate-800">
        <i class="fas fa-robot text-xl mb-1"></i>
        <span class="text-xs font-medium">AI Chat</span>
    </NavLink>
</nav>

<div id="blazor-error-ui" class="fixed inset-0 z-[9999] flex items-end justify-center pointer-events-none sm:items-center" data-nosnippet>
    <div class="bg-red-600 text-white p-4 rounded-md shadow-lg m-4 max-w-md w-full pointer-events-auto sm:m-6">
        <div class="flex">
            <div class="flex-shrink-0">
                <svg class="h-5 w-5 text-red-300" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
                </svg>
            </div>
            <div class="ml-3">
                <h3 class="text-sm font-medium">An unhandled error has occurred.</h3>
                <div class="mt-2 text-sm">
                    <a href="." class="font-medium underline hover:text-red-200">Reload</a>
                    <button type="button" class="dismiss ml-3 font-medium underline hover:text-red-200">Dismiss</button>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    // No C# code is needed in MainLayout for this specific hybrid navigation structure.
    // The responsiveness is handled by Tailwind's md: prefixes.
}
